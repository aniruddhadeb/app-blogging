<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-8">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

    <!-- Header -->
    <header class="mb-8">
      <h1 class="text-3xl font-bold text-foreground">
        Blog Posts
      </h1>
      <p class="mt-2 text-muted-foreground">
        Explore our latest articles and insights
      </p>
    </header>

    <!-- Loading State -->
    @if (isLoading()) {
      <app-loading type="posts"></app-loading>
    }

    <!-- Error State -->
    @if (error()) {
      <section
        hlmCard
        class="border-destructive/50 bg-destructive/10 text-destructive"
        role="alert"
      >
        <div hlmCardContent class="py-3">
          <strong class="font-semibold">Error!</strong>
          <span class="ml-1">{{ error() }}</span>
        </div>
      </section>
    }

    <!-- Posts List -->
    @if (!isLoading() && !error()) {
      <div class="space-y-6">

        @for (post of paginatedPosts(); track trackByPostId($index, post)) {
          <article
            hlmCard
            class="transition-shadow hover:shadow-md"
            [attr.aria-labelledby]="'post-title-' + post.id"
          >
            <div hlmCardContent class="space-y-4">

              <!-- Title -->
              <h2
                [id]="'post-title-' + post.id"
                class="text-xl font-semibold text-foreground"
              >
                <a
                  [routerLink]="['/blogs', post.id]"
                  class="hover:text-primary transition-colors"
                >
                  {{ post.title }}
                </a>
              </h2>

              <!-- Body -->
              <p class="text-muted-foreground line-clamp-3">
                {{ post.body }}
              </p>

              <div hlmSeparator></div>

              <!-- Footer -->
              <div class="flex items-center justify-between">
                <span class="text-sm text-muted-foreground">
                  Post #{{ post.id }}
                </span>

                <a
                  hlmBtn
                  buttonVariants="link"
                  size="sm"
                  [routerLink]="['/blogs', post.id]"
                  [attr.aria-label]="'Read full post: ' + post.title"
                  class="gap-1"
                >
                  Read more
                  <svg
                    class="h-4 w-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </a>
              </div>

            </div>
          </article>
        } @empty {
          <section
            hlmCard
            class="text-center"
          >
            <div hlmCardContent class="py-12">
              <p class="text-muted-foreground">
                No blog posts found.
              </p>
            </div>
          </section>
        }

      </div>

      <!-- Pagination -->
      @if (totalPosts() > itemsPerPage()) {
        <div class="mt-8">
          <app-pagination
            [totalItems]="totalPosts()"
            [itemsPerPage]="itemsPerPage()"
            [currentPage]="currentPage()"
            (pageChange)="onPageChange($event)"
          ></app-pagination>
        </div>
      }
    }

  </div>
</div>
